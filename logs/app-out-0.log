2017-08-23 10:22 +08:00: process controller: article.js...
2017-08-23 10:22 +08:00: register URL mapping: GET /article
2017-08-23 10:22 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:22 +08:00: register URL mapping: GET /comment
2017-08-23 10:22 +08:00: process controller: index.js...
register URL mapping: GET /
2017-08-23 10:22 +08:00: process controller: me.js...
2017-08-23 10:22 +08:00: register URL mapping: GET /me
2017-08-23 10:22 +08:00: process controller: postedit.js...
2017-08-23 10:22 +08:00: register URL mapping: GET /postedit
2017-08-23 10:22 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 10:22 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:22 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:23 +08:00: Process GET /comment...
2017-08-23 10:23 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 10:23 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:23 +08:00: Process GET /static/css/base.css...
2017-08-23 10:23 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:23 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:23 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:23 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:23 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:23 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:23 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:23 +08:00: Process GET /comment...
2017-08-23 10:23 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:23 +08:00: Process GET /static/css/default.css...
2017-08-23 10:23 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:23 +08:00: Process GET /static/css/base.css...
2017-08-23 10:23 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:23 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:23 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:23 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:23 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:23 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:23 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:23 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:36 +08:00: Process GET /comment...
2017-08-23 10:36 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:36 +08:00: Process GET /static/css/default.css...
2017-08-23 10:36 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:36 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:36 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:36 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:36 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:36 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:37 +08:00: Process GET /comment...
2017-08-23 10:37 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:37 +08:00: Process GET /static/css/default.css...
2017-08-23 10:37 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:37 +08:00: Process GET /static/css/base.css...
2017-08-23 10:37 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:37 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:37 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:37 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:37 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:37 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:37 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:37 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:38 +08:00: Process GET /comment...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:38 +08:00: Process GET /static/css/default.css...
2017-08-23 10:38 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:38 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:38 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:38 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:38 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:38 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:38 +08:00: Process GET /comment...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:38 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:38 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:38 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:38 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:38 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:38 +08:00: Process GET /comment...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:38 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 10:38 +08:00: Process GET /static/css/base.css...
2017-08-23 10:38 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:38 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:38 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:38 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:38 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:38 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:38 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:38 +08:00: Process GET /comment...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:38 +08:00: Process GET /static/css/default.css...
2017-08-23 10:38 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:38 +08:00: Process GET /static/css/base.css...
2017-08-23 10:38 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:38 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:38 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:38 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:38 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:38 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:38 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:38 +08:00: Process GET /comment...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:38 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:38 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:38 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:38 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:38 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:38 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:38 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:38 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:39 +08:00: Process GET /comment...
2017-08-23 10:39 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:39 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
2017-08-23 10:39 +08:00: Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:39 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:39 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:39 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:39 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:40 +08:00: process controller: article.js...
2017-08-23 10:40 +08:00: register URL mapping: GET /article
2017-08-23 10:40 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:40 +08:00: register URL mapping: GET /comment
2017-08-23 10:40 +08:00: process controller: index.js...
2017-08-23 10:40 +08:00: register URL mapping: GET /
2017-08-23 10:40 +08:00: process controller: me.js...
2017-08-23 10:40 +08:00: register URL mapping: GET /me
2017-08-23 10:40 +08:00: process controller: postedit.js...
2017-08-23 10:40 +08:00: register URL mapping: GET /postedit
2017-08-23 10:40 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:40 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:40 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:40 +08:00: Process GET /comment...
2017-08-23 10:40 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:40 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:40 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:40 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:40 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:40 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:40 +08:00: Process GET /comment...
2017-08-23 10:40 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:40 +08:00: Process GET /static/css/default.css...
2017-08-23 10:40 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
2017-08-23 10:40 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:40 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:40 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:40 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:40 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:40 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:40 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:41 +08:00: Process GET /comment...
2017-08-23 10:41 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 10:41 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:41 +08:00: Process GET /static/css/base.css...
2017-08-23 10:41 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:41 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:41 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:41 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:41 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:41 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:41 +08:00: Process GET /comment...
2017-08-23 10:41 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:41 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:41 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:41 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:41 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:41 +08:00: Process GET /comment...
2017-08-23 10:41 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:41 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 10:41 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:41 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:41 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:41 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:41 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:42 +08:00: Process GET /comment...
2017-08-23 10:42 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 10:42 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:42 +08:00: Process GET /static/css/base.css...
2017-08-23 10:42 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:42 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:42 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:42 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:42 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:42 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:42 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:42 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:42 +08:00: Process GET /comment...
2017-08-23 10:42 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 10:42 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:42 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:42 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:42 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:42 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:42 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:42 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:42 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:42 +08:00: Process GET /comment...
2017-08-23 10:42 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:42 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 10:42 +08:00: Process GET /static/css/base.css...
2017-08-23 10:42 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:42 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:42 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:42 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:42 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:42 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:42 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:42 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:43 +08:00: process controller: article.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /article
2017-08-23 10:43 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /comment
2017-08-23 10:43 +08:00: process controller: index.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /
2017-08-23 10:43 +08:00: process controller: me.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /me
2017-08-23 10:43 +08:00: process controller: postedit.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /postedit
2017-08-23 10:43 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 10:43 +08:00: register URL mapping: POST /postDraft
2017-08-23 10:43 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:43 +08:00: Process GET /comment...
2017-08-23 10:43 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:43 +08:00: Process GET /static/css/default.css...
2017-08-23 10:43 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:43 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:43 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:43 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
Process GET /static/css/comment.css...
2017-08-23 10:43 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:43 +08:00: process controller: article.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /article
2017-08-23 10:43 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /comment
2017-08-23 10:43 +08:00: process controller: index.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /
2017-08-23 10:43 +08:00: process controller: me.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /me
2017-08-23 10:43 +08:00: process controller: postedit.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /postedit
2017-08-23 10:43 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:43 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:43 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:43 +08:00: Process GET /comment...
2017-08-23 10:43 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 10:43 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:43 +08:00: Process GET /static/css/base.css...
2017-08-23 10:43 +08:00: Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:43 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:43 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:43 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:43 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:43 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:43 +08:00: process controller: article.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /article
2017-08-23 10:43 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /comment
2017-08-23 10:43 +08:00: process controller: index.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /
2017-08-23 10:43 +08:00: process controller: me.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /me
2017-08-23 10:43 +08:00: process controller: postedit.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /postedit
2017-08-23 10:43 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:43 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:43 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:43 +08:00: process controller: article.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /article
2017-08-23 10:43 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /comment
2017-08-23 10:43 +08:00: process controller: index.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /
2017-08-23 10:43 +08:00: process controller: me.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /me
2017-08-23 10:43 +08:00: process controller: postedit.js...
2017-08-23 10:43 +08:00: register URL mapping: GET /postedit
2017-08-23 10:43 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:43 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:43 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:43 +08:00: Process GET /comment...
2017-08-23 10:43 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:43 +08:00: Process GET /static/css/default.css...
2017-08-23 10:43 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:43 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:43 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:43 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:43 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:44 +08:00: Process GET /comment...
2017-08-23 10:44 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:44 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:44 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:44 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:44 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:44 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:44 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:44 +08:00: Process GET /comment...
2017-08-23 10:44 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:44 +08:00: Process GET /static/css/default.css...
2017-08-23 10:44 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:44 +08:00: Process GET /static/css/base.css...
2017-08-23 10:44 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:44 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:44 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:44 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:44 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:44 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:44 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:44 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:45 +08:00: Process GET /comment...
2017-08-23 10:45 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:45 +08:00: Process GET /static/css/default.css...
2017-08-23 10:45 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:45 +08:00: Process GET /static/css/base.css...
2017-08-23 10:45 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:45 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:45 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:45 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:45 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:45 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:45 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:45 +08:00: Process GET /comment...
2017-08-23 10:45 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:45 +08:00: Process GET /static/css/default.css...
2017-08-23 10:45 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:45 +08:00: Process GET /static/css/base.css...
2017-08-23 10:45 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:45 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:45 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:45 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:45 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:45 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:45 +08:00: Process GET /comment...
2017-08-23 10:45 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:45 +08:00: Process GET /static/css/default.css...
2017-08-23 10:45 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:45 +08:00: Process GET /static/css/base.css...
2017-08-23 10:45 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:45 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:45 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:45 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:45 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:45 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:48 +08:00: Process GET /comment...
2017-08-23 10:48 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:48 +08:00: Process GET /static/css/default.css...
2017-08-23 10:48 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:48 +08:00: Process GET /static/css/base.css...
2017-08-23 10:48 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:48 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:48 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:48 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:48 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:48 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:49 +08:00: process controller: article.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /article
2017-08-23 10:49 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /comment
2017-08-23 10:49 +08:00: process controller: index.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /
2017-08-23 10:49 +08:00: process controller: me.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /me
2017-08-23 10:49 +08:00: process controller: postedit.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /postedit
2017-08-23 10:49 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:49 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:49 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:49 +08:00: Process GET /comment...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:49 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:49 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:49 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:49 +08:00: process controller: article.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /article
2017-08-23 10:49 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /comment
2017-08-23 10:49 +08:00: process controller: index.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /
2017-08-23 10:49 +08:00: process controller: me.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /me
2017-08-23 10:49 +08:00: process controller: postedit.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /postedit
2017-08-23 10:49 +08:00: register URL mapping: POST /postedit
2017-08-23 10:49 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:49 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 10:49 +08:00: register URL mapping: POST /postDraft
2017-08-23 10:49 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:49 +08:00: Process GET /comment...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 10:49 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:49 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:49 +08:00: process controller: article.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /article
2017-08-23 10:49 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /comment
2017-08-23 10:49 +08:00: process controller: index.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /
2017-08-23 10:49 +08:00: process controller: me.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /me
2017-08-23 10:49 +08:00: process controller: postedit.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /postedit
2017-08-23 10:49 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:49 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:49 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:49 +08:00: Process GET /comment...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 10:49 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:49 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:49 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:49 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:49 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:49 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:49 +08:00: process controller: article.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /article
2017-08-23 10:49 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /comment
2017-08-23 10:49 +08:00: process controller: index.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /
2017-08-23 10:49 +08:00: process controller: me.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /me
2017-08-23 10:49 +08:00: process controller: postedit.js...
2017-08-23 10:49 +08:00: register URL mapping: GET /postedit
2017-08-23 10:49 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:49 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 10:49 +08:00: register URL mapping: POST /postDraft
2017-08-23 10:49 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:49 +08:00: Process GET /comment...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:49 +08:00: Process GET /static/css/default.css...
2017-08-23 10:49 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:49 +08:00: Process GET /static/css/base.css...
2017-08-23 10:49 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:49 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:49 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:49 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:49 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:49 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:50 +08:00: process controller: article.js...
2017-08-23 10:50 +08:00: register URL mapping: GET /article
2017-08-23 10:50 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:50 +08:00: register URL mapping: GET /comment
2017-08-23 10:50 +08:00: process controller: index.js...
2017-08-23 10:50 +08:00: register URL mapping: GET /
2017-08-23 10:50 +08:00: process controller: me.js...
2017-08-23 10:50 +08:00: register URL mapping: GET /me
2017-08-23 10:50 +08:00: process controller: postedit.js...
2017-08-23 10:50 +08:00: register URL mapping: GET /postedit
2017-08-23 10:50 +08:00: register URL mapping: POST /postedit
2017-08-23 10:50 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:50 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 10:50 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:50 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:51 +08:00: Process GET /login...
2017-08-23 10:58 +08:00: Process GET /comment...
2017-08-23 10:58 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:58 +08:00: Process GET /static/css/default.css...
2017-08-23 10:58 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:58 +08:00: Process GET /static/css/base.css...
2017-08-23 10:58 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:58 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:58 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:58 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:58 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:58 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:58 +08:00: process controller: article.js...
2017-08-23 10:58 +08:00: register URL mapping: GET /article
2017-08-23 10:58 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:58 +08:00: register URL mapping: GET /comment
2017-08-23 10:58 +08:00: process controller: index.js...
2017-08-23 10:58 +08:00: register URL mapping: GET /
2017-08-23 10:58 +08:00: process controller: me.js...
2017-08-23 10:58 +08:00: register URL mapping: GET /me
2017-08-23 10:58 +08:00: process controller: postedit.js...
2017-08-23 10:58 +08:00: register URL mapping: GET /postedit
2017-08-23 10:58 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 10:58 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:58 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:58 +08:00: Process GET /comment...
2017-08-23 10:58 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:58 +08:00: Process GET /static/css/default.css...
2017-08-23 10:58 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:58 +08:00: Process GET /static/css/base.css...
2017-08-23 10:58 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:58 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:58 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:58 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:58 +08:00: Process GET /static/js/marked.js...
2017-08-23 10:58 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:58 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:58 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:59 +08:00: process controller: article.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /article
2017-08-23 10:59 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /comment
2017-08-23 10:59 +08:00: process controller: index.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /
2017-08-23 10:59 +08:00: process controller: me.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /me
2017-08-23 10:59 +08:00: process controller: postedit.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /postedit
2017-08-23 10:59 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 10:59 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 10:59 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:59 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:59 +08:00: Process GET /comment...
2017-08-23 10:59 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 10:59 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 10:59 +08:00: Process GET /static/css/comment.css...
2017-08-23 10:59 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 10:59 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 10:59 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:59 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 10:59 +08:00: process controller: article.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /article
2017-08-23 10:59 +08:00: register URL mapping: POST /article
2017-08-23 10:59 +08:00: process controller: comment.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /comment
2017-08-23 10:59 +08:00: process controller: index.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /
2017-08-23 10:59 +08:00: process controller: me.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /me
2017-08-23 10:59 +08:00: process controller: postedit.js...
2017-08-23 10:59 +08:00: register URL mapping: GET /postedit
2017-08-23 10:59 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 10:59 +08:00: register URL mapping: POST /saveDraft
2017-08-23 10:59 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 10:59 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 10:59 +08:00: Process GET /comment...
2017-08-23 10:59 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 10:59 +08:00: Process GET /static/css/default.css...
2017-08-23 10:59 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 10:59 +08:00: Process GET /static/css/base.css...
2017-08-23 10:59 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 10:59 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 10:59 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 10:59 +08:00: Process GET /static/js/highlight.js...
2017-08-23 10:59 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 10:59 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:00 +08:00: process controller: article.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /article
2017-08-23 11:00 +08:00: register URL mapping: POST /article
2017-08-23 11:00 +08:00: process controller: comment.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /comment
process controller: index.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /
2017-08-23 11:00 +08:00: process controller: me.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /me
2017-08-23 11:00 +08:00: process controller: postedit.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /postedit
2017-08-23 11:00 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:00 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:00 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:00 +08:00: Process GET /comment...
2017-08-23 11:00 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:00 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:00 +08:00: Process GET /static/css/default.css...
2017-08-23 11:00 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:00 +08:00: Process GET /static/css/base.css...
2017-08-23 11:00 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:00 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:00 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:00 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:00 +08:00: process controller: article.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /article
2017-08-23 11:00 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /comment
2017-08-23 11:00 +08:00: process controller: index.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /
2017-08-23 11:00 +08:00: process controller: me.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /me
2017-08-23 11:00 +08:00: process controller: postedit.js...
2017-08-23 11:00 +08:00: register URL mapping: GET /postedit
2017-08-23 11:00 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:00 +08:00: register URL mapping: POST /saveDraft
2017-08-23 11:00 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:00 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:00 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:01 +08:00: process controller: article.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /article
2017-08-23 11:01 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /comment
2017-08-23 11:01 +08:00: process controller: index.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /
2017-08-23 11:01 +08:00: process controller: me.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /me
2017-08-23 11:01 +08:00: process controller: postedit.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /postedit
2017-08-23 11:01 +08:00: register URL mapping: POST /postedit
2017-08-23 11:01 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:01 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:01 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:01 +08:00: Process GET /comment...
2017-08-23 11:01 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:01 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:01 +08:00: Process GET /static/css/default.css...
2017-08-23 11:01 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:01 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:01 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:01 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:01 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:01 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/highlight.js...
2017-08-23 11:01 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:01 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:01 +08:00: process controller: article.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /article
2017-08-23 11:01 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /comment
2017-08-23 11:01 +08:00: process controller: index.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /
2017-08-23 11:01 +08:00: process controller: me.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /me
2017-08-23 11:01 +08:00: process controller: postedit.js...
2017-08-23 11:01 +08:00: register URL mapping: GET /postedit
2017-08-23 11:01 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:01 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:01 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:02 +08:00: Process GET /comment...
2017-08-23 11:02 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:02 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:02 +08:00: Process GET /static/css/default.css...
2017-08-23 11:02 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:02 +08:00: Process GET /static/css/base.css...
2017-08-23 11:02 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:02 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:02 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:02 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:02 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:02 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:02 +08:00: process controller: article.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /article
2017-08-23 11:02 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /comment
2017-08-23 11:02 +08:00: process controller: index.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /
2017-08-23 11:02 +08:00: process controller: me.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /me
2017-08-23 11:02 +08:00: process controller: postedit.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /postedit
2017-08-23 11:02 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:02 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 11:02 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:02 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:02 +08:00: Process GET /comment...
2017-08-23 11:02 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 11:02 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
2017-08-23 11:02 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:02 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:02 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:02 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:02 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:02 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:02 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:02 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:02 +08:00: process controller: article.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /article
2017-08-23 11:02 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /comment
2017-08-23 11:02 +08:00: process controller: index.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /
2017-08-23 11:02 +08:00: process controller: me.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /me
2017-08-23 11:02 +08:00: process controller: postedit.js...
2017-08-23 11:02 +08:00: register URL mapping: GET /postedit
2017-08-23 11:02 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:02 +08:00: register URL mapping: POST /saveDraft
2017-08-23 11:02 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:02 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:02 +08:00: Process GET /comment...
2017-08-23 11:02 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 11:02 +08:00: Process GET /static/css/default.css...
2017-08-23 11:02 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:02 +08:00: Process GET /static/css/base.css...
2017-08-23 11:02 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:02 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:02 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:02 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:02 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:02 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:02 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:03 +08:00: process controller: article.js...
2017-08-23 11:03 +08:00: register URL mapping: GET /article
2017-08-23 11:03 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:03 +08:00: register URL mapping: GET /comment
2017-08-23 11:03 +08:00: process controller: index.js...
2017-08-23 11:03 +08:00: register URL mapping: GET /
2017-08-23 11:03 +08:00: process controller: me.js...
2017-08-23 11:03 +08:00: register URL mapping: GET /me
2017-08-23 11:03 +08:00: process controller: postedit.js...
2017-08-23 11:03 +08:00: register URL mapping: GET /postedit
2017-08-23 11:03 +08:00: register URL mapping: POST /postedit
2017-08-23 11:03 +08:00: register URL mapping: POST /uploadImage
2017-08-23 11:03 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 11:03 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:03 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:03 +08:00: Process GET /comment...
2017-08-23 11:03 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:03 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:03 +08:00: Process GET /static/css/default.css...
2017-08-23 11:03 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:03 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:03 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:03 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:03 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:03 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:03 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:03 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:04 +08:00: process controller: article.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /article
2017-08-23 11:04 +08:00: register URL mapping: POST /article
2017-08-23 11:04 +08:00: process controller: comment.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /comment
process controller: index.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /
2017-08-23 11:04 +08:00: process controller: me.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /me
2017-08-23 11:04 +08:00: process controller: postedit.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /postedit
2017-08-23 11:04 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:04 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:04 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:04 +08:00: Process GET /comment...
2017-08-23 11:04 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 11:04 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
2017-08-23 11:04 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:04 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:04 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:04 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:04 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:04 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:04 +08:00: process controller: article.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /article
2017-08-23 11:04 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /comment
2017-08-23 11:04 +08:00: process controller: index.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /
2017-08-23 11:04 +08:00: process controller: me.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /me
2017-08-23 11:04 +08:00: process controller: postedit.js...
2017-08-23 11:04 +08:00: register URL mapping: GET /postedit
2017-08-23 11:04 +08:00: register URL mapping: POST /postedit
2017-08-23 11:04 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:04 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:04 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:04 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:05 +08:00: process controller: article.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /article
2017-08-23 11:05 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /comment
2017-08-23 11:05 +08:00: process controller: index.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /
2017-08-23 11:05 +08:00: process controller: me.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /me
2017-08-23 11:05 +08:00: process controller: postedit.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /postedit
2017-08-23 11:05 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:05 +08:00: register URL mapping: POST /saveDraft
2017-08-23 11:05 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:05 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:05 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:05 +08:00: process controller: article.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /article
2017-08-23 11:05 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /comment
2017-08-23 11:05 +08:00: process controller: index.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /
2017-08-23 11:05 +08:00: process controller: me.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /me
2017-08-23 11:05 +08:00: process controller: postedit.js...
2017-08-23 11:05 +08:00: register URL mapping: GET /postedit
2017-08-23 11:05 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:05 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:05 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:05 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:05 +08:00: Process GET /comment...
2017-08-23 11:05 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 11:05 +08:00: Process GET /static/css/base.css...
2017-08-23 11:05 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:05 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:05 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:05 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:05 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:05 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:05 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:05 +08:00: Process GET /comment...
2017-08-23 11:05 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 11:05 +08:00: Process GET /static/css/default.css...
2017-08-23 11:05 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:05 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:05 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
2017-08-23 11:05 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:05 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:05 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:05 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:05 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:05 +08:00: Process GET /comment...
2017-08-23 11:05 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:05 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:05 +08:00: Process GET /static/css/default.css...
2017-08-23 11:05 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:05 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:05 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:05 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:05 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:05 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:05 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:05 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:05 +08:00: Process GET /comment...
2017-08-23 11:05 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 11:05 +08:00: Process GET /static/css/default.css...
2017-08-23 11:05 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:05 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:05 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:05 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:05 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:05 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:05 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:05 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:07 +08:00: process controller: article.js...
2017-08-23 11:07 +08:00: register URL mapping: GET /article
2017-08-23 11:07 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:07 +08:00: register URL mapping: GET /comment
2017-08-23 11:07 +08:00: process controller: index.js...
2017-08-23 11:07 +08:00: register URL mapping: GET /
2017-08-23 11:07 +08:00: process controller: me.js...
2017-08-23 11:07 +08:00: register URL mapping: GET /me
2017-08-23 11:07 +08:00: process controller: postedit.js...
2017-08-23 11:07 +08:00: register URL mapping: GET /postedit
2017-08-23 11:07 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:07 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:07 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:07 +08:00: Process GET /comment...
2017-08-23 11:07 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:07 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:07 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 11:07 +08:00: Process GET /static/css/base.css...
2017-08-23 11:07 +08:00: Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-23 11:07 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:07 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:07 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:07 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:07 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:08 +08:00: Process GET /comment...
2017-08-23 11:08 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 11:08 +08:00: Process GET /static/css/default.css...
2017-08-23 11:08 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:08 +08:00: Process GET /static/css/base.css...
2017-08-23 11:08 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:08 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
2017-08-23 11:08 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:08 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:08 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:08 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:08 +08:00: Process GET /comment...
2017-08-23 11:08 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:08 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:08 +08:00: Process GET /static/css/default.css...
2017-08-23 11:08 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:08 +08:00: Process GET /static/css/base.css...
2017-08-23 11:08 +08:00: Process GET /static/js/bootstrap.js...
Process GET /static/css/comment.css...
2017-08-23 11:08 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:08 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:08 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:08 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:08 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:08 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:08 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:09 +08:00: Process GET /comment...
2017-08-23 11:09 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 11:09 +08:00: Process GET /static/css/default.css...
2017-08-23 11:09 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:09 +08:00: Process GET /static/css/base.css...
2017-08-23 11:09 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:09 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:09 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:09 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:09 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:09 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:09 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:09 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:13 +08:00: process controller: article.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /article
2017-08-23 11:13 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /comment
2017-08-23 11:13 +08:00: process controller: index.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /
2017-08-23 11:13 +08:00: process controller: me.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /me
2017-08-23 11:13 +08:00: process controller: postedit.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /postedit
2017-08-23 11:13 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:13 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 11:13 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:13 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:13 +08:00: process controller: article.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /article
2017-08-23 11:13 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /comment
2017-08-23 11:13 +08:00: process controller: index.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /
2017-08-23 11:13 +08:00: process controller: me.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /me
2017-08-23 11:13 +08:00: process controller: postedit.js...
2017-08-23 11:13 +08:00: register URL mapping: GET /postedit
2017-08-23 11:13 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:13 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:13 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:13 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:15 +08:00: process controller: article.js...
2017-08-23 11:15 +08:00: register URL mapping: GET /article
2017-08-23 11:15 +08:00: register URL mapping: POST /article
2017-08-23 11:15 +08:00: process controller: comment.js...
2017-08-23 11:15 +08:00: register URL mapping: GET /comment
2017-08-23 11:15 +08:00: process controller: index.js...
2017-08-23 11:15 +08:00: register URL mapping: GET /
2017-08-23 11:15 +08:00: process controller: me.js...
2017-08-23 11:15 +08:00: register URL mapping: GET /me
process controller: postedit.js...
2017-08-23 11:15 +08:00: register URL mapping: GET /postedit
2017-08-23 11:15 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:15 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:15 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:15 +08:00: Process GET /comment...
2017-08-23 11:15 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:15 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 11:15 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:15 +08:00: Process GET /static/css/base.css...
2017-08-23 11:15 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:15 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:15 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:15 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:15 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:15 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:15 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:15 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:16 +08:00: Process GET /comment...
2017-08-23 11:16 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:16 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:16 +08:00: Process GET /static/css/default.css...
2017-08-23 11:16 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:16 +08:00: Process GET /static/css/base.css...
2017-08-23 11:16 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:16 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:16 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:16 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:16 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:16 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:16 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:16 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:17 +08:00: process controller: article.js...
2017-08-23 11:17 +08:00: register URL mapping: GET /article
2017-08-23 11:17 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:17 +08:00: register URL mapping: GET /comment
2017-08-23 11:17 +08:00: process controller: index.js...
2017-08-23 11:17 +08:00: register URL mapping: GET /
2017-08-23 11:17 +08:00: process controller: me.js...
2017-08-23 11:17 +08:00: register URL mapping: GET /me
2017-08-23 11:17 +08:00: process controller: postedit.js...
2017-08-23 11:17 +08:00: register URL mapping: GET /postedit
2017-08-23 11:17 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:17 +08:00: register URL mapping: POST /saveDraft
2017-08-23 11:17 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:17 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:19 +08:00: Process GET /comment...
2017-08-23 11:19 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:19 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:19 +08:00: Process GET /static/css/default.css...
2017-08-23 11:19 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:19 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:19 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:19 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:19 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:19 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:19 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:19 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:19 +08:00: Process GET /comment...
2017-08-23 11:19 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:19 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:19 +08:00: Process GET /static/css/default.css...
2017-08-23 11:19 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:19 +08:00: Process GET /static/css/base.css...
2017-08-23 11:19 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:19 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:19 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:19 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:19 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:19 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:19 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:19 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:19 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:19 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:19 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:19 +08:00: Process GET /static/css/default.css...
2017-08-23 11:19 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:19 +08:00: Process GET /static/css/base.css...
2017-08-23 11:19 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:19 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:20 +08:00: Process GET /comment...
2017-08-23 11:20 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:20 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 11:20 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:20 +08:00: Process GET /static/css/base.css...
2017-08-23 11:20 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:20 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:20 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:20 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:20 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:20 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:20 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:20 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:20 +08:00: Process GET /comment...
2017-08-23 11:20 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:20 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:20 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 11:20 +08:00: Process GET /static/css/base.css...
2017-08-23 11:20 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:20 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:20 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:20 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:20 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:20 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:20 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:20 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:20 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:20 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:20 +08:00: Process GET /static/css/default.css...
2017-08-23 11:20 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:20 +08:00: Process GET /static/css/base.css...
2017-08-23 11:20 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:20 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:20 +08:00: process controller: article.js...
2017-08-23 11:20 +08:00: register URL mapping: GET /article
2017-08-23 11:20 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:20 +08:00: register URL mapping: GET /comment
2017-08-23 11:20 +08:00: process controller: index.js...
2017-08-23 11:20 +08:00: register URL mapping: GET /
2017-08-23 11:20 +08:00: process controller: me.js...
2017-08-23 11:20 +08:00: register URL mapping: GET /me
2017-08-23 11:20 +08:00: process controller: postedit.js...
2017-08-23 11:20 +08:00: register URL mapping: GET /postedit
2017-08-23 11:20 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:20 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:20 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:20 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:21 +08:00: Process GET /comment...
2017-08-23 11:21 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:21 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:21 +08:00: Process GET /static/css/default.css...
2017-08-23 11:21 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:21 +08:00: Process GET /static/css/base.css...
2017-08-23 11:21 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:21 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:21 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:21 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:21 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:21 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:21 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:21 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:21 +08:00: Process GET /comment...
2017-08-23 11:21 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 11:21 +08:00: Process GET /static/css/base.css...
2017-08-23 11:21 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:21 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:21 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:21 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:21 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:21 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:21 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:21 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:22 +08:00: Process GET /comment...
2017-08-23 11:22 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:22 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:22 +08:00: Process GET /static/css/default.css...
2017-08-23 11:22 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:22 +08:00: Process GET /static/css/base.css...
2017-08-23 11:22 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:22 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:22 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:22 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:22 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:22 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:22 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:22 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:22 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:22 +08:00: Process GET /static/css/default.css...
2017-08-23 11:22 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:22 +08:00: Process GET /static/css/base.css...
2017-08-23 11:22 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:22 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:23 +08:00: Process GET /comment...
2017-08-23 11:23 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 11:23 +08:00: Process GET /static/css/default.css...
2017-08-23 11:23 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:23 +08:00: Process GET /static/css/base.css...
2017-08-23 11:23 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:23 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:23 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:23 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:23 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:23 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:23 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:23 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:23 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:23 +08:00: Process GET /comment...
2017-08-23 11:23 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:23 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:23 +08:00: Process GET /static/css/default.css...
2017-08-23 11:23 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:23 +08:00: Process GET /static/css/base.css...
2017-08-23 11:23 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:23 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:23 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:23 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:23 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:23 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:23 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:23 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:23 +08:00: Process GET /comment...
2017-08-23 11:23 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:23 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:23 +08:00: Process GET /static/css/default.css...
2017-08-23 11:23 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:23 +08:00: Process GET /static/css/base.css...
2017-08-23 11:23 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:23 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:23 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:23 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:23 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:23 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:23 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:24 +08:00: Process GET /comment...
2017-08-23 11:24 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:24 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:24 +08:00: Process GET /static/css/default.css...
2017-08-23 11:24 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:24 +08:00: Process GET /static/css/base.css...
2017-08-23 11:24 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:24 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:24 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:24 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:24 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:24 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:24 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:24 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:24 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:24 +08:00: Process GET /comment...
2017-08-23 11:24 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:24 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 11:24 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:24 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:24 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:24 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:24 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:24 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:24 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:24 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:24 +08:00: Process GET /comment...
2017-08-23 11:24 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 11:24 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:24 +08:00: Process GET /static/css/base.css...
2017-08-23 11:24 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:24 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:24 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:24 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:24 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:24 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:26 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:26 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:26 +08:00: Process GET /static/css/default.css...
2017-08-23 11:26 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:26 +08:00: Process GET /static/css/base.css...
2017-08-23 11:26 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:26 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:28 +08:00: process controller: article.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /article
2017-08-23 11:28 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /comment
2017-08-23 11:28 +08:00: process controller: index.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /
2017-08-23 11:28 +08:00: process controller: me.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /me
2017-08-23 11:28 +08:00: process controller: postedit.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /postedit
2017-08-23 11:28 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:28 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 11:28 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:28 +08:00: Process GET /comment...
2017-08-23 11:28 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:28 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:28 +08:00: Process GET /static/css/default.css...
2017-08-23 11:28 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:28 +08:00: Process GET /static/css/base.css...
2017-08-23 11:28 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:28 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:28 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:28 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:28 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:28 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:28 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:28 +08:00: process controller: article.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /article
2017-08-23 11:28 +08:00: register URL mapping: POST /article
2017-08-23 11:28 +08:00: process controller: comment.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /comment
2017-08-23 11:28 +08:00: process controller: index.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /
2017-08-23 11:28 +08:00: process controller: me.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /me
2017-08-23 11:28 +08:00: process controller: postedit.js...
2017-08-23 11:28 +08:00: register URL mapping: GET /postedit
2017-08-23 11:28 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:28 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:28 +08:00: Process GET /comment...
2017-08-23 11:28 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:28 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:28 +08:00: Process GET /static/css/default.css...
2017-08-23 11:28 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:28 +08:00: Process GET /static/css/base.css...
2017-08-23 11:28 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:28 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:28 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:28 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:28 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 11:28 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:28 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:29 +08:00: Process GET /comment...
2017-08-23 11:29 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:29 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:29 +08:00: Process GET /static/css/default.css...
2017-08-23 11:29 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:29 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 11:29 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:29 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:29 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:29 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:29 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:29 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:29 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:29 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:29 +08:00: Process GET /comment...
2017-08-23 11:29 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:29 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:29 +08:00: Process GET /static/css/default.css...
2017-08-23 11:29 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:29 +08:00: Process GET /static/css/base.css...
2017-08-23 11:29 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:29 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:29 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:29 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 11:29 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:29 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:29 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:29 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:30 +08:00: process controller: article.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /article
2017-08-23 11:30 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /comment
2017-08-23 11:30 +08:00: process controller: index.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /
2017-08-23 11:30 +08:00: process controller: me.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /me
2017-08-23 11:30 +08:00: process controller: postedit.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /postedit
2017-08-23 11:30 +08:00: register URL mapping: POST /postedit
2017-08-23 11:30 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:30 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:30 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:30 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:30 +08:00: process controller: article.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /article
2017-08-23 11:30 +08:00: register URL mapping: POST /article
2017-08-23 11:30 +08:00: process controller: comment.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /comment
2017-08-23 11:30 +08:00: process controller: index.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /
2017-08-23 11:30 +08:00: process controller: me.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /me
2017-08-23 11:30 +08:00: process controller: postedit.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /postedit
2017-08-23 11:30 +08:00: register URL mapping: POST /postedit
2017-08-23 11:30 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:30 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:30 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:30 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:30 +08:00: Process GET /comment...
2017-08-23 11:30 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 11:30 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 11:30 +08:00: Process GET /static/css/default.css...
2017-08-23 11:30 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 11:30 +08:00: Process GET /static/css/base.css...
2017-08-23 11:30 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 11:30 +08:00: Process GET /static/css/comment.css...
2017-08-23 11:30 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 11:30 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 11:30 +08:00: Process GET /static/js/marked.js...
2017-08-23 11:30 +08:00: Process GET /static/js/highlight.js...
2017-08-23 11:30 +08:00: Process GET /static/images/plus.png...
2017-08-23 11:30 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 11:30 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 11:30 +08:00: process controller: article.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /article
2017-08-23 11:30 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /comment
2017-08-23 11:30 +08:00: process controller: index.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /
2017-08-23 11:30 +08:00: process controller: me.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /me
2017-08-23 11:30 +08:00: process controller: postedit.js...
2017-08-23 11:30 +08:00: register URL mapping: GET /postedit
2017-08-23 11:30 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 11:30 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 11:30 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:30 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:39 +08:00: process controller: article.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /article
2017-08-23 11:39 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /comment
2017-08-23 11:39 +08:00: process controller: index.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /
2017-08-23 11:39 +08:00: process controller: me.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /me
2017-08-23 11:39 +08:00: process controller: postedit.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /postedit
2017-08-23 11:39 +08:00: register URL mapping: POST /postedit
2017-08-23 11:39 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:39 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 11:39 +08:00: register URL mapping: POST /postDraft
2017-08-23 11:39 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 11:39 +08:00: process controller: article.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /article
2017-08-23 11:39 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /comment
2017-08-23 11:39 +08:00: process controller: index.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /
2017-08-23 11:39 +08:00: process controller: me.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /me
2017-08-23 11:39 +08:00: process controller: postedit.js...
2017-08-23 11:39 +08:00: register URL mapping: GET /postedit
2017-08-23 11:39 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 11:39 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 11:39 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:15 +08:00: Process GET /comment...
2017-08-23 13:15 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 13:15 +08:00: Process GET /static/css/default.css...
2017-08-23 13:15 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:15 +08:00: Process GET /static/css/base.css...
2017-08-23 13:15 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:15 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:15 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:15 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:15 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:15 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:15 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:15 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:15 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:15 +08:00: process controller: article.js...
2017-08-23 13:15 +08:00: register URL mapping: GET /article
2017-08-23 13:15 +08:00: register URL mapping: POST /article
2017-08-23 13:15 +08:00: process controller: comment.js...
2017-08-23 13:15 +08:00: register URL mapping: GET /comment
2017-08-23 13:15 +08:00: process controller: index.js...
2017-08-23 13:15 +08:00: register URL mapping: GET /
process controller: me.js...
2017-08-23 13:15 +08:00: register URL mapping: GET /me
2017-08-23 13:15 +08:00: process controller: postedit.js...
2017-08-23 13:15 +08:00: register URL mapping: GET /postedit
2017-08-23 13:15 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 13:15 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 13:15 +08:00: register URL mapping: POST /saveArticle
2017-08-23 13:15 +08:00: register URL mapping: POST /postDraft
2017-08-23 13:15 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:15 +08:00: Process GET /comment...
2017-08-23 13:15 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 13:15 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:15 +08:00: Process GET /static/css/base.css...
2017-08-23 13:15 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:15 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:15 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:15 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:15 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:15 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:15 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:15 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:15 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:16 +08:00: Process GET /comment...
2017-08-23 13:16 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:16 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:16 +08:00: Process GET /static/css/default.css...
2017-08-23 13:16 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:16 +08:00: Process GET /static/css/base.css...
2017-08-23 13:16 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:16 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:16 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:16 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:16 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:16 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:16 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:16 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:17 +08:00: process controller: article.js...
2017-08-23 13:17 +08:00: register URL mapping: GET /article
2017-08-23 13:17 +08:00: register URL mapping: POST /article
2017-08-23 13:17 +08:00: process controller: comment.js...
2017-08-23 13:17 +08:00: register URL mapping: GET /comment
2017-08-23 13:17 +08:00: process controller: index.js...
2017-08-23 13:17 +08:00: register URL mapping: GET /
2017-08-23 13:17 +08:00: process controller: me.js...
2017-08-23 13:17 +08:00: register URL mapping: GET /me
2017-08-23 13:17 +08:00: process controller: postedit.js...
2017-08-23 13:17 +08:00: register URL mapping: GET /postedit
2017-08-23 13:17 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 13:17 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 13:17 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:17 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:17 +08:00: Process GET /comment...
2017-08-23 13:17 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:17 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:17 +08:00: Process GET /static/css/default.css...
2017-08-23 13:17 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:17 +08:00: Process GET /static/css/base.css...
2017-08-23 13:17 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:17 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:17 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:17 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:17 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:18 +08:00: process controller: article.js...
2017-08-23 13:18 +08:00: register URL mapping: GET /article
2017-08-23 13:18 +08:00: register URL mapping: POST /article
2017-08-23 13:18 +08:00: process controller: comment.js...
2017-08-23 13:18 +08:00: register URL mapping: GET /comment
2017-08-23 13:18 +08:00: process controller: index.js...
2017-08-23 13:18 +08:00: register URL mapping: GET /
2017-08-23 13:18 +08:00: process controller: me.js...
2017-08-23 13:18 +08:00: register URL mapping: GET /me
2017-08-23 13:18 +08:00: process controller: postedit.js...
2017-08-23 13:18 +08:00: register URL mapping: GET /postedit
2017-08-23 13:18 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 13:18 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 13:18 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:18 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:18 +08:00: Process GET /comment...
2017-08-23 13:18 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:18 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:18 +08:00: Process GET /static/css/default.css...
2017-08-23 13:18 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:18 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 13:18 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:18 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:18 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:18 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:18 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:18 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:18 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:18 +08:00: Process GET /comment...
2017-08-23 13:18 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:18 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:18 +08:00: Process GET /static/css/default.css...
2017-08-23 13:18 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:18 +08:00: Process GET /static/css/base.css...
2017-08-23 13:18 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:18 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:18 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:18 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:18 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:18 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:18 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:18 +08:00: Process GET /comment...
2017-08-23 13:18 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:18 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:18 +08:00: Process GET /static/css/default.css...
2017-08-23 13:18 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:18 +08:00: Process GET /static/css/base.css...
2017-08-23 13:18 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:18 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/css/comment.css...
2017-08-23 13:18 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:18 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:18 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:18 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:18 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:18 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:19 +08:00: process controller: article.js...
2017-08-23 13:19 +08:00: register URL mapping: GET /article
2017-08-23 13:19 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:19 +08:00: register URL mapping: GET /comment
2017-08-23 13:19 +08:00: process controller: index.js...
2017-08-23 13:19 +08:00: register URL mapping: GET /
2017-08-23 13:19 +08:00: process controller: me.js...
2017-08-23 13:19 +08:00: register URL mapping: GET /me
2017-08-23 13:19 +08:00: process controller: postedit.js...
2017-08-23 13:19 +08:00: register URL mapping: GET /postedit
2017-08-23 13:19 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 13:19 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 13:19 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:19 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:19 +08:00: Process GET /comment...
2017-08-23 13:19 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:19 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:19 +08:00: Process GET /static/css/default.css...
2017-08-23 13:19 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:19 +08:00: Process GET /static/css/base.css...
2017-08-23 13:19 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:19 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:19 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:19 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:19 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:19 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:19 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:19 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:19 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:20 +08:00: process controller: article.js...
2017-08-23 13:20 +08:00: register URL mapping: GET /article
2017-08-23 13:20 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:20 +08:00: register URL mapping: GET /comment
2017-08-23 13:20 +08:00: process controller: index.js...
2017-08-23 13:20 +08:00: register URL mapping: GET /
2017-08-23 13:20 +08:00: process controller: me.js...
2017-08-23 13:20 +08:00: register URL mapping: GET /me
2017-08-23 13:20 +08:00: process controller: postedit.js...
2017-08-23 13:20 +08:00: register URL mapping: GET /postedit
2017-08-23 13:20 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:20 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 13:20 +08:00: register URL mapping: POST /postDraft
2017-08-23 13:20 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:20 +08:00: Process GET /comment...
2017-08-23 13:20 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:20 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:20 +08:00: Process GET /static/css/default.css...
2017-08-23 13:20 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:20 +08:00: Process GET /static/css/base.css...
2017-08-23 13:20 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:20 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:20 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:20 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:20 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:20 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:20 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:20 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:23 +08:00: process controller: article.js...
2017-08-23 13:23 +08:00: register URL mapping: GET /article
2017-08-23 13:23 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:23 +08:00: register URL mapping: GET /comment
2017-08-23 13:23 +08:00: process controller: index.js...
2017-08-23 13:23 +08:00: register URL mapping: GET /
2017-08-23 13:23 +08:00: process controller: me.js...
2017-08-23 13:23 +08:00: register URL mapping: GET /me
2017-08-23 13:23 +08:00: process controller: postedit.js...
2017-08-23 13:23 +08:00: register URL mapping: GET /postedit
2017-08-23 13:23 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 13:23 +08:00: register URL mapping: POST /saveDraft
2017-08-23 13:23 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:23 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:24 +08:00: Process GET /comment...
2017-08-23 13:24 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:24 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:24 +08:00: Process GET /static/css/default.css...
2017-08-23 13:24 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:24 +08:00: Process GET /static/css/base.css...
2017-08-23 13:24 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:24 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:24 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:24 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:24 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:24 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:24 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:24 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:24 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:24 +08:00: process controller: article.js...
2017-08-23 13:24 +08:00: register URL mapping: GET /article
2017-08-23 13:24 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:24 +08:00: register URL mapping: GET /comment
2017-08-23 13:24 +08:00: process controller: index.js...
2017-08-23 13:24 +08:00: register URL mapping: GET /
2017-08-23 13:24 +08:00: process controller: me.js...
2017-08-23 13:24 +08:00: register URL mapping: GET /me
2017-08-23 13:24 +08:00: process controller: postedit.js...
2017-08-23 13:24 +08:00: register URL mapping: GET /postedit
2017-08-23 13:24 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:24 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 13:24 +08:00: register URL mapping: POST /postDraft
2017-08-23 13:24 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:25 +08:00: process controller: article.js...
2017-08-23 13:25 +08:00: register URL mapping: GET /article
2017-08-23 13:25 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:25 +08:00: register URL mapping: GET /comment
2017-08-23 13:25 +08:00: process controller: index.js...
2017-08-23 13:25 +08:00: register URL mapping: GET /
2017-08-23 13:25 +08:00: process controller: me.js...
2017-08-23 13:25 +08:00: register URL mapping: GET /me
2017-08-23 13:25 +08:00: process controller: postedit.js...
2017-08-23 13:25 +08:00: register URL mapping: GET /postedit
2017-08-23 13:25 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:25 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:25 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:27 +08:00: process controller: article.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /article
2017-08-23 13:27 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /comment
2017-08-23 13:27 +08:00: process controller: index.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /
2017-08-23 13:27 +08:00: process controller: me.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /me
2017-08-23 13:27 +08:00: process controller: postedit.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /postedit
2017-08-23 13:27 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:27 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:27 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:27 +08:00: Process GET /comment...
2017-08-23 13:27 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:27 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:27 +08:00: Process GET /static/css/default.css...
2017-08-23 13:27 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:27 +08:00: Process GET /static/css/base.css...
2017-08-23 13:27 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:27 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:27 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:27 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:27 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:27 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:27 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:27 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:27 +08:00: process controller: article.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /article
2017-08-23 13:27 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /comment
2017-08-23 13:27 +08:00: process controller: index.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /
2017-08-23 13:27 +08:00: process controller: me.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /me
2017-08-23 13:27 +08:00: process controller: postedit.js...
2017-08-23 13:27 +08:00: register URL mapping: GET /postedit
2017-08-23 13:27 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-23 13:27 +08:00: register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
2017-08-23 13:27 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:27 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:27 +08:00: Process GET /comment...
2017-08-23 13:27 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:27 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:27 +08:00: Process GET /static/css/default.css...
2017-08-23 13:27 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:27 +08:00: Process GET /static/css/base.css...
2017-08-23 13:27 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:27 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:27 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:27 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:27 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:27 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:27 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:27 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:27 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:28 +08:00: process controller: article.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /article
2017-08-23 13:28 +08:00: register URL mapping: POST /article
2017-08-23 13:28 +08:00: process controller: comment.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /comment
2017-08-23 13:28 +08:00: process controller: index.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /
2017-08-23 13:28 +08:00: process controller: me.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /me
2017-08-23 13:28 +08:00: process controller: postedit.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /postedit
2017-08-23 13:28 +08:00: register URL mapping: POST /postedit
2017-08-23 13:28 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:28 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 13:28 +08:00: register URL mapping: POST /postDraft
2017-08-23 13:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:28 +08:00: Process GET /comment...
2017-08-23 13:28 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 13:28 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:28 +08:00: Process GET /static/css/base.css...
2017-08-23 13:28 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:28 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
2017-08-23 13:28 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-23 13:28 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:28 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:28 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:28 +08:00: process controller: article.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /article
2017-08-23 13:28 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /comment
2017-08-23 13:28 +08:00: process controller: index.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /
2017-08-23 13:28 +08:00: process controller: me.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /me
2017-08-23 13:28 +08:00: process controller: postedit.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /postedit
2017-08-23 13:28 +08:00: register URL mapping: POST /postedit
2017-08-23 13:28 +08:00: register URL mapping: POST /uploadImage
2017-08-23 13:28 +08:00: register URL mapping: POST /saveDraft
2017-08-23 13:28 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 13:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:28 +08:00: Process GET /comment...
2017-08-23 13:28 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:28 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:28 +08:00: Process GET /static/css/default.css...
2017-08-23 13:28 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:28 +08:00: Process GET /static/css/base.css...
2017-08-23 13:28 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:28 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:28 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:28 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:28 +08:00: process controller: article.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /article
2017-08-23 13:28 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /comment
2017-08-23 13:28 +08:00: process controller: index.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /
2017-08-23 13:28 +08:00: process controller: me.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /me
2017-08-23 13:28 +08:00: process controller: postedit.js...
2017-08-23 13:28 +08:00: register URL mapping: GET /postedit
2017-08-23 13:28 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:28 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 13:28 +08:00: register URL mapping: POST /postDraft
2017-08-23 13:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:28 +08:00: Process GET /comment...
2017-08-23 13:28 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:28 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:28 +08:00: Process GET /static/css/default.css...
2017-08-23 13:28 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:28 +08:00: Process GET /static/css/base.css...
2017-08-23 13:28 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:28 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:28 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:28 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:28 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:28 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:28 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:28 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:28 +08:00: Process POST /comment...
2017-08-23 13:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:33 +08:00: Process GET /comment...
2017-08-23 13:33 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:33 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:33 +08:00: Process GET /static/css/default.css...
2017-08-23 13:33 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:33 +08:00: Process GET /static/css/base.css...
2017-08-23 13:33 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:33 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:33 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:33 +08:00: Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:33 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:33 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:33 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:33 +08:00: Process GET /comment...
2017-08-23 13:33 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:33 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:33 +08:00: Process GET /static/css/default.css...
2017-08-23 13:33 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:33 +08:00: Process GET /static/css/base.css...
2017-08-23 13:33 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:33 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:33 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:33 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:33 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:33 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:33 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:33 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:34 +08:00: Process GET /comment...
Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/css/comment.css...
Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
Process GET /static/images/plus.png...
2017-08-23 13:34 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:34 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:34 +08:00: Process GET /comment...
2017-08-23 13:34 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:34 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:34 +08:00: Process GET /static/css/default.css...
2017-08-23 13:34 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:34 +08:00: Process GET /static/css/base.css...
2017-08-23 13:34 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:34 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:34 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:34 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:34 +08:00: Process GET /static/js/marked.js...
2017-08-23 13:34 +08:00: Process GET /static/js/highlight.js...
2017-08-23 13:34 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:34 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:34 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:34 +08:00: Process GET /comment...
2017-08-23 13:34 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:34 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 13:34 +08:00: Process GET /static/css/default.css...
2017-08-23 13:34 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:34 +08:00: Process GET /static/css/base.css...
2017-08-23 13:34 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 13:34 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
2017-08-23 13:34 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:34 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:34 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:34 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:34 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:36 +08:00: Process GET /comment...
2017-08-23 13:36 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 13:36 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/default.css...
2017-08-23 13:36 +08:00: Process GET /static/css/uikit.min.css...
2017-08-23 13:36 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 13:36 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 13:36 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:36 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:36 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:36 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:36 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:36 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:36 +08:00: Process POST /comment...
2017-08-23 13:36 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:37 +08:00: process controller: article.js...
2017-08-23 13:37 +08:00: register URL mapping: GET /article
2017-08-23 13:37 +08:00: register URL mapping: POST /article
2017-08-23 13:37 +08:00: process controller: comment.js...
2017-08-23 13:37 +08:00: register URL mapping: GET /comment
2017-08-23 13:37 +08:00: register URL mapping: POST /comment
process controller: index.js...
2017-08-23 13:37 +08:00: register URL mapping: GET /
2017-08-23 13:37 +08:00: process controller: me.js...
2017-08-23 13:37 +08:00: register URL mapping: GET /me
2017-08-23 13:37 +08:00: process controller: postedit.js...
2017-08-23 13:37 +08:00: register URL mapping: GET /postedit
2017-08-23 13:37 +08:00: register URL mapping: POST /postedit
2017-08-23 13:37 +08:00: register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 13:37 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-23 13:37 +08:00: register URL mapping: POST /postDraft
2017-08-23 13:37 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 13:37 +08:00: Process GET /comment...
2017-08-23 13:37 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/bootstrap.css...
2017-08-23 13:37 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 13:37 +08:00: Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-23 13:37 +08:00: Process GET /static/css/comment.css...
2017-08-23 13:37 +08:00: Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 13:37 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 13:37 +08:00: Process GET /static/images/plus.png...
2017-08-23 13:37 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 13:37 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 13:37 +08:00: Process POST /comment...
2017-08-23 13:37 +08:00: { name: '', email: '', comment: '', url: '' }
2017-08-23 13:37 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
2017-08-23 16:09 +08:00: process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
2017-08-23 16:09 +08:00: process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
2017-08-23 16:09 +08:00: process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: process controller: article.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /article
2017-08-23 16:09 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /comment
2017-08-23 16:09 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /
2017-08-23 16:09 +08:00: process controller: me.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /me
2017-08-23 16:09 +08:00: process controller: postedit.js...
2017-08-23 16:09 +08:00: register URL mapping: GET /postedit
2017-08-23 16:09 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-23 16:09 +08:00: register URL mapping: POST /deleteArticle
2017-08-23 16:09 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-23 16:09 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-23 16:09 +08:00: Process GET /comment...
2017-08-23 16:09 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-23 16:09 +08:00: Process GET /static/css/bootstrap.css...
2017-08-23 16:09 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
2017-08-23 16:09 +08:00: Process GET /static/css/base.css...
2017-08-23 16:09 +08:00: Process GET /static/js/bootstrap.js...
2017-08-23 16:09 +08:00: Process GET /static/css/comment.css...
2017-08-23 16:09 +08:00: Process GET /static/js/uikit.min.js...
2017-08-23 16:09 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-23 16:09 +08:00: Process GET /static/js/marked.js...
Process GET /static/js/highlight.js...
2017-08-23 16:09 +08:00: Process GET /static/images/plus.png...
2017-08-23 16:09 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-23 16:09 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:12 +08:00: process controller: article.js...
2017-08-24 09:12 +08:00: register URL mapping: GET /article
2017-08-24 09:12 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:12 +08:00: register URL mapping: GET /comment
2017-08-24 09:12 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:12 +08:00: register URL mapping: GET /
process controller: me.js...
2017-08-24 09:12 +08:00: register URL mapping: GET /me
2017-08-24 09:12 +08:00: process controller: postedit.js...
2017-08-24 09:12 +08:00: register URL mapping: GET /postedit
2017-08-24 09:12 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-24 09:12 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:12 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:12 +08:00: Process GET /comment...
2017-08-24 09:12 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:12 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:12 +08:00: Process GET /static/css/default.css...
2017-08-24 09:12 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
Process GET /static/js/bootstrap.js...
2017-08-24 09:12 +08:00: Process GET /static/css/comment.css...
Process GET /static/js/uikit.min.js...
Process GET /static/js/jquery.dotdotdot.js...
Process GET /static/js/marked.js...
2017-08-24 09:12 +08:00: Process GET /static/js/highlight.js...
2017-08-24 09:12 +08:00: Process GET /static/images/plus.png...
2017-08-24 09:12 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:12 +08:00: Process GET /favicon.ico...
2017-08-24 09:12 +08:00: Process GET /...
2017-08-24 09:12 +08:00: { title: 'HTT\'s blog',
  contents: 
   [ { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-22 14:31:29',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' } ],
  count: 9,
  page: 1,
  limit: 5,
  pages: 2 }
2017-08-24 09:12 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:12 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:12 +08:00: Process GET /static/css/default.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/base.css...
2017-08-24 09:12 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:12 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:12 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-24 09:12 +08:00: Process GET /static/js/marked.js...
2017-08-24 09:12 +08:00: Process GET /static/js/highlight.js...
2017-08-24 09:12 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:13 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:13 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:13 +08:00: Process GET /static/css/default.css...
2017-08-24 09:13 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:13 +08:00: Process GET /static/css/base.css...
2017-08-24 09:13 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:19 +08:00: Process GET /postedit...
2017-08-24 09:19 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:19 +08:00: id: 
2017-08-24 09:19 +08:00: [ { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-22 14:31:29',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:19 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-22 14:31:29',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: null }
2017-08-24 09:19 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:19 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:19 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:19 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:19 +08:00: Process GET /static/css/postlist.css...
Process GET /static/js/fileinput.js...
2017-08-24 09:19 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:19 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:19 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:19 +08:00: Process GET /static/css/add.css...
2017-08-24 09:19 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:19 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:19 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:19 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:19 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:19 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:19 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:19 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:19 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:19 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:19 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:21 +08:00: process controller: article.js...
2017-08-24 09:21 +08:00: register URL mapping: GET /article
2017-08-24 09:21 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:21 +08:00: register URL mapping: GET /comment
2017-08-24 09:21 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:21 +08:00: register URL mapping: GET /
2017-08-24 09:21 +08:00: process controller: me.js...
2017-08-24 09:21 +08:00: register URL mapping: GET /me
2017-08-24 09:21 +08:00: process controller: postedit.js...
2017-08-24 09:21 +08:00: register URL mapping: GET /postedit
2017-08-24 09:21 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-24 09:21 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:21 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:23 +08:00: Process GET /postedit...
2017-08-24 09:23 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:23 +08:00: id: 
2017-08-24 09:23 +08:00: [ { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-22 14:31:29',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:23 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-22 14:31:29',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: null }
2017-08-24 09:23 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:23 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:23 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:23 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:23 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:23 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:23 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:23 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:23 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:23 +08:00: Process GET /static/css/add.css...
Process GET /static/js/zh.js...
2017-08-24 09:23 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:23 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:23 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:23 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:23 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:23 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:23 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:23 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:23 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:23 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:25 +08:00: process controller: article.js...
2017-08-24 09:25 +08:00: register URL mapping: GET /article
2017-08-24 09:25 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:25 +08:00: register URL mapping: GET /comment
2017-08-24 09:25 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:25 +08:00: register URL mapping: GET /
2017-08-24 09:25 +08:00: process controller: me.js...
2017-08-24 09:25 +08:00: register URL mapping: GET /me
2017-08-24 09:25 +08:00: process controller: postedit.js...
2017-08-24 09:25 +08:00: register URL mapping: GET /postedit
2017-08-24 09:25 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-24 09:25 +08:00: register URL mapping: POST /saveDraft
2017-08-24 09:25 +08:00: register URL mapping: POST /deleteArticle
2017-08-24 09:25 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:25 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:25 +08:00: Process GET /postedit...
2017-08-24 09:25 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:25 +08:00: id: 
2017-08-24 09:25 +08:00: [ { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-22 14:31:29',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:25 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-22 14:31:29',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: null }
2017-08-24 09:25 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:25 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:25 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:25 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:25 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:25 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:25 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:25 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:25 +08:00: Process GET /static/css/sweetalert.css...
Process GET /static/css/add.css...
Process GET /static/js/zh.js...
2017-08-24 09:25 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:25 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:25 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:25 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:25 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:25 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:25 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:25 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:25 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:25 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:26 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:26 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:26 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:26 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-22 14:31:29',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:26 +08:00: [ { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-22 14:31:29',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:26 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-22 14:31:29',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-22 14:31:29',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:26 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:26 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:26 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:26 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:26 +08:00: Process GET /static/css/custom_up_img.css...
Process GET /static/css/sweetalert.css...
2017-08-24 09:26 +08:00: Process GET /static/css/add.css...
2017-08-24 09:26 +08:00: Process GET /static/js/fileinput.js...
Process GET /static/js/zh.js...
2017-08-24 09:26 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:26 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:26 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:26 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:26 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:26 +08:00: Process POST /saveArticle...
2017-08-24 09:26 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-22 14:31:29',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:26 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:26 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:26 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:26 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:26 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:26 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:26 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:26 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:26 +08:00: Process GET /static/css/uikit.min.css...
Process GET /static/css/postlist.css...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:26 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:26 +08:00: Process GET /static/css/sweetalert.css...
Process GET /static/css/add.css...
2017-08-24 09:26 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:26 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:26 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:26 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:26 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:26 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:26 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:26 +08:00: process controller: article.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /article
2017-08-24 09:26 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /comment
2017-08-24 09:26 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /
2017-08-24 09:26 +08:00: process controller: me.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /me
2017-08-24 09:26 +08:00: process controller: postedit.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /postedit
2017-08-24 09:26 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-24 09:26 +08:00: register URL mapping: POST /deleteArticle
2017-08-24 09:26 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:26 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:26 +08:00: process controller: article.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /article
2017-08-24 09:26 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /comment
2017-08-24 09:26 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /
2017-08-24 09:26 +08:00: process controller: me.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /me
2017-08-24 09:26 +08:00: process controller: postedit.js...
2017-08-24 09:26 +08:00: register URL mapping: GET /postedit
2017-08-24 09:26 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-24 09:26 +08:00: register URL mapping: POST /deleteArticle
2017-08-24 09:26 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:26 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:26 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:26 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:26 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:26 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:26 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:26 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:26 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:26 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:26 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:26 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:26 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:26 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:26 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:26 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:26 +08:00: Process GET /static/css/add.css...
2017-08-24 09:26 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:26 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:26 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:26 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:26 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:26 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:26 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:27 +08:00: process controller: article.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /article
2017-08-24 09:27 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /comment
2017-08-24 09:27 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /
2017-08-24 09:27 +08:00: process controller: me.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /me
2017-08-24 09:27 +08:00: process controller: postedit.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /postedit
2017-08-24 09:27 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-24 09:27 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
2017-08-24 09:27 +08:00: register URL mapping: POST /postDraft
2017-08-24 09:27 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:27 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:27 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:27 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:27 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:27 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:27 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.css...
Process GET /static/css/fileinput.css...
2017-08-24 09:27 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:27 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:27 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:27 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:27 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:27 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:27 +08:00: Process GET /static/css/add.css...
2017-08-24 09:27 +08:00: Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
2017-08-24 09:27 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:27 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:27 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:27 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:27 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:27 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:27 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:27 +08:00: process controller: article.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /article
2017-08-24 09:27 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /comment
2017-08-24 09:27 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /
2017-08-24 09:27 +08:00: process controller: me.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /me
2017-08-24 09:27 +08:00: process controller: postedit.js...
2017-08-24 09:27 +08:00: register URL mapping: GET /postedit
2017-08-24 09:27 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
2017-08-24 09:27 +08:00: register URL mapping: POST /saveDraft
2017-08-24 09:27 +08:00: register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:27 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:27 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:27 +08:00: { title: 'My Articles', contents: null, content: null }
id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:27 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:27 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:27 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:27 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:27 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:27 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:27 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:27 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:27 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:27 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:27 +08:00: Process GET /static/css/add.css...
2017-08-24 09:27 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:27 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:27 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:27 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:27 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:27 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:27 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:27 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:27 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:27 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:28 +08:00: process controller: article.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /article
2017-08-24 09:28 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /comment
2017-08-24 09:28 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
2017-08-24 09:28 +08:00: process controller: index.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /
2017-08-24 09:28 +08:00: process controller: me.js...
register URL mapping: GET /me
process controller: postedit.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /postedit
2017-08-24 09:28 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:28 +08:00: process controller: article.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /article
2017-08-24 09:28 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /comment
2017-08-24 09:28 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /
2017-08-24 09:28 +08:00: process controller: me.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /me
2017-08-24 09:28 +08:00: process controller: postedit.js...
2017-08-24 09:28 +08:00: register URL mapping: GET /postedit
2017-08-24 09:28 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:28 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:28 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:28 +08:00: { title: 'My Articles', contents: null, content: null }
id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:28 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:28 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:28 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:28 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:28 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:28 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:28 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:28 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:28 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:28 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:28 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:28 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:28 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:28 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:28 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:28 +08:00: Process GET /static/css/add.css...
2017-08-24 09:28 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:28 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:28 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:28 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:28 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:28 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:28 +08:00: Process GET /static/css/bootstrap.min.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:29 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:29 +08:00: { title: 'My Articles', contents: null, content: null }
id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:29 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:29 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:29 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:29 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:29 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:29 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:29 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:29 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:29 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:29 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:29 +08:00: Process GET /static/css/add.css...
Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
2017-08-24 09:29 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:29 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:29 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:29 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:29 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:29 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:29 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:29 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:29 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:29 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:29 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:29 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:29 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:29 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:29 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/postlist.css...
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:29 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:29 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:29 +08:00: Process GET /static/css/add.css...
2017-08-24 09:29 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:29 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:29 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:29 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:29 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:29 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:29 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:29 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:29 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:29 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:29 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:30 +08:00: process controller: article.js...
2017-08-24 09:30 +08:00: register URL mapping: GET /article
2017-08-24 09:30 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:30 +08:00: register URL mapping: GET /comment
2017-08-24 09:30 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:30 +08:00: register URL mapping: GET /
2017-08-24 09:30 +08:00: process controller: me.js...
2017-08-24 09:30 +08:00: register URL mapping: GET /me
2017-08-24 09:30 +08:00: process controller: postedit.js...
2017-08-24 09:30 +08:00: register URL mapping: GET /postedit
2017-08-24 09:30 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
2017-08-24 09:30 +08:00: register URL mapping: POST /deleteArticle
2017-08-24 09:30 +08:00: register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:30 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:31 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:31 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:31 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:31 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:31 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:31 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:31 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:31 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:31 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:31 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:31 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:31 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:31 +08:00: Process GET /static/css/add.css...
2017-08-24 09:31 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:31 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:31 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:31 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:31 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:31 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:31 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:31 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:31 +08:00: { title: 'My Articles', contents: null, content: null }
id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:31 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:31 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:31 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:31 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:31 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:31 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:31 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:31 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:31 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:31 +08:00: Process GET /static/css/add.css...
2017-08-24 09:31 +08:00: Process GET /static/js/fileinput.js...
Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
2017-08-24 09:31 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:31 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:31 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:31 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:31 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:31 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:31 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:31 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:31 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:31 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:31 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:31 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:31 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:31 +08:00: Process GET /static/css/postlist.css...
Process GET /static/css/bootstrap.min.css...
2017-08-24 09:31 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:31 +08:00: Process GET /static/css/sweetalert.css...
Process GET /static/js/fileinput.js...
2017-08-24 09:31 +08:00: Process GET /static/css/add.css...
2017-08-24 09:31 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:31 +08:00: Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:31 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:31 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:31 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:31 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:31 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:32 +08:00: process controller: article.js...
2017-08-24 09:32 +08:00: register URL mapping: GET /article
2017-08-24 09:32 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:32 +08:00: register URL mapping: GET /comment
2017-08-24 09:32 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:32 +08:00: register URL mapping: GET /
2017-08-24 09:32 +08:00: process controller: me.js...
2017-08-24 09:32 +08:00: register URL mapping: GET /me
2017-08-24 09:32 +08:00: process controller: postedit.js...
2017-08-24 09:32 +08:00: register URL mapping: GET /postedit
2017-08-24 09:32 +08:00: register URL mapping: POST /postedit
register URL mapping: POST /uploadImage
register URL mapping: POST /saveDraft
register URL mapping: POST /deleteArticle
register URL mapping: POST /saveArticle
register URL mapping: POST /postDraft
2017-08-24 09:32 +08:00: connection is successed, and it is running in http://localhost:3000/
2017-08-24 09:32 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:32 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:32 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:32 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:32 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:26:17',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:32 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:26:17',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:26:17',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:32 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:32 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:32 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:32 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:32 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:32 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:32 +08:00: Process GET /static/css/add.css...
2017-08-24 09:32 +08:00: Process GET /static/js/fileinput.js...
Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
2017-08-24 09:32 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:32 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:32 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:32 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:32 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:32 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:32 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:32 +08:00: Process POST /saveArticle...
2017-08-24 09:32 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:26:17',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:32 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:32 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:32 +08:00: id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:32 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:32:31',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:32 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:32:31',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:32 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:32:31',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:32:31',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:32 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:32 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:32 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:32 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:32 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:32 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:32 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:32 +08:00: Process GET /static/css/add.css...
2017-08-24 09:32 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:32 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:32 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:32 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:32 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:32 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:32 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:32 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:32 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:32 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:38 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
{ title: 'My Articles', contents: null, content: null }
id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:38 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:32:31',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:38 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:32:31',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:38 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:32:31',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:32:31',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:38 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:38 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:38 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:38 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:38 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:38 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:38 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:38 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:38 +08:00: Process GET /static/css/add.css...
2017-08-24 09:38 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:38 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:38 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:38 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:38 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:38 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:38 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:38 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:38 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:38 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:38 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:38 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:39 +08:00: Process POST /saveArticle...
2017-08-24 09:39 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:32:31',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:39 +08:00: Process GET /postedit?contentid=599bcf945430ac2c8c1acdb1...
2017-08-24 09:39 +08:00: { title: 'My Articles', contents: null, content: null }
id: 599bcf945430ac2c8c1acdb1
2017-08-24 09:39 +08:00: { _id: 599bcf945430ac2c8c1acdb1,
  title: '[php]fopen',
  isPublic: true,
  date: '2017-8-22 14:30:44',
  lastEditTime: '2017-8-24 09:39:44',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
  description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' }
2017-08-24 09:39 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:39 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcf945430ac2c8c1acdb1,
     title: '[php]fopen',
     isPublic: true,
     date: '2017-8-22 14:30:44',
     lastEditTime: '2017-8-24 09:39:44',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
     description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' } }
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:39 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:39 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:39 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:39 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:39 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:39 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:39 +08:00: Process GET /static/css/add.css...
Process GET /static/js/fileinput.js...
Process GET /static/js/zh.js...
2017-08-24 09:39 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:39 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:39 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:39 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:39 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:39 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:39 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.min.css.map...
Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:39 +08:00: Process GET /postedit?contentid=599bde1881147631cc8c4fde...
2017-08-24 09:39 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:39 +08:00: id: 599bde1881147631cc8c4fde
2017-08-24 09:39 +08:00: { _id: 599bde1881147631cc8c4fde,
  title: 'link',
  date: '2017-8-22 15:32:40',
  isPublic: true,
  lastEditTime: '2017-8-22 15:32:40',
  __v: 0,
  isDelete: false,
  comments: [],
  content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
  description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' }
2017-08-24 09:39 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:39 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bde1881147631cc8c4fde,
     title: 'link',
     date: '2017-8-22 15:32:40',
     isPublic: true,
     lastEditTime: '2017-8-22 15:32:40',
     __v: 0,
     isDelete: false,
     comments: [],
     content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
     description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' } }
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:39 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:39 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:39 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:39 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:39 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:39 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:39 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:39 +08:00: Process GET /static/css/add.css...
Process GET /static/js/zh.js...
2017-08-24 09:39 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:39 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:39 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:39 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:39 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:39 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:39 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:39 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:39 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:40 +08:00: Process GET /postedit?contentid=599bde1881147631cc8c4fde...
2017-08-24 09:40 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:40 +08:00: id: 599bde1881147631cc8c4fde
2017-08-24 09:40 +08:00: { _id: 599bde1881147631cc8c4fde,
  title: 'link',
  date: '2017-8-22 15:32:40',
  isPublic: true,
  lastEditTime: '2017-8-22 15:32:40',
  __v: 0,
  isDelete: false,
  comments: [],
  content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
  description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' }
2017-08-24 09:40 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:40 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bde1881147631cc8c4fde,
     title: 'link',
     date: '2017-8-22 15:32:40',
     isPublic: true,
     lastEditTime: '2017-8-22 15:32:40',
     __v: 0,
     isDelete: false,
     comments: [],
     content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
     description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' } }
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:40 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:40 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:40 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:40 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:40 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:40 +08:00: Process GET /static/css/add.css...
2017-08-24 09:40 +08:00: Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
2017-08-24 09:40 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:40 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:40 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css.map...
Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:40 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:40 +08:00: Process GET /postedit?contentid=599bde1881147631cc8c4fde...
{ title: 'My Articles', contents: null, content: null }
id: 599bde1881147631cc8c4fde
2017-08-24 09:40 +08:00: { _id: 599bde1881147631cc8c4fde,
  title: 'link',
  date: '2017-8-22 15:32:40',
  isPublic: true,
  lastEditTime: '2017-8-22 15:32:40',
  __v: 0,
  isDelete: false,
  comments: [],
  content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
  description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' }
2017-08-24 09:40 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:40 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bde1881147631cc8c4fde,
     title: 'link',
     date: '2017-8-22 15:32:40',
     isPublic: true,
     lastEditTime: '2017-8-22 15:32:40',
     __v: 0,
     isDelete: false,
     comments: [],
     content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
     description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' } }
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:40 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:40 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:40 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:40 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:40 +08:00: Process GET /static/css/add.css...
2017-08-24 09:40 +08:00: Process GET /static/js/fileinput.js...
Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:40 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:40 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:40 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:40 +08:00: Process GET /postedit?contentid=599bde1881147631cc8c4fde...
{ title: 'My Articles', contents: null, content: null }
id: 599bde1881147631cc8c4fde
2017-08-24 09:40 +08:00: { _id: 599bde1881147631cc8c4fde,
  title: 'link',
  date: '2017-8-22 15:32:40',
  isPublic: true,
  lastEditTime: '2017-8-22 15:32:40',
  __v: 0,
  isDelete: false,
  comments: [],
  content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
  description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' }
2017-08-24 09:40 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:40 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bde1881147631cc8c4fde,
     title: 'link',
     date: '2017-8-22 15:32:40',
     isPublic: true,
     lastEditTime: '2017-8-22 15:32:40',
     __v: 0,
     isDelete: false,
     comments: [],
     content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
     description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' } }
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:40 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:40 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:40 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:40 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:40 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:40 +08:00: Process GET /static/css/add.css...
2017-08-24 09:40 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:40 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:40 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:40 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:40 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:40 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:40 +08:00: Process GET /postedit?contentid=599bde1881147631cc8c4fde...
{ title: 'My Articles', contents: null, content: null }
id: 599bde1881147631cc8c4fde
2017-08-24 09:40 +08:00: { _id: 599bde1881147631cc8c4fde,
  title: 'link',
  date: '2017-8-22 15:32:40',
  isPublic: true,
  lastEditTime: '2017-8-22 15:32:40',
  __v: 0,
  isDelete: false,
  comments: [],
  content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
  description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' }
2017-08-24 09:40 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:40 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bde1881147631cc8c4fde,
     title: 'link',
     date: '2017-8-22 15:32:40',
     isPublic: true,
     lastEditTime: '2017-8-22 15:32:40',
     __v: 0,
     isDelete: false,
     comments: [],
     content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
     description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' } }
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:40 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:40 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:40 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:40 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:40 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:40 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:40 +08:00: Process GET /static/css/add.css...
2017-08-24 09:40 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:40 +08:00: Process GET /static/js/bootstrap.js...
Process GET /static/js/uikit.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:40 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:40 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:40 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:40 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:40 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:41 +08:00: Process GET /postedit?contentid=599bcd87ab7a6934fc32d9ab...
2017-08-24 09:41 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:41 +08:00: id: 599bcd87ab7a6934fc32d9ab
2017-08-24 09:41 +08:00: { _id: 599bcd87ab7a6934fc32d9ab,
  title: 'sub',
  date: '2017-8-22 14:21:59',
  isPublic: true,
  lastEditTime: '2017-8-22 14:21:59',
  __v: 0,
  isDelete: false,
  comments: [],
  content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
  description: 'vue,koahexowordpress' }
2017-08-24 09:41 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:41 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599bcd87ab7a6934fc32d9ab,
     title: 'sub',
     date: '2017-8-22 14:21:59',
     isPublic: true,
     lastEditTime: '2017-8-22 14:21:59',
     __v: 0,
     isDelete: false,
     comments: [],
     content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
     description: 'vue,koahexowordpress' } }
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:41 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:41 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:41 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:41 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:41 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:41 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:41 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:41 +08:00: Process GET /static/css/add.css...
Process GET /static/js/zh.js...
2017-08-24 09:41 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:41 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:41 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:41 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:41 +08:00: Process GET /postedit...
2017-08-24 09:41 +08:00: { title: 'My Articles', contents: null, content: null }
2017-08-24 09:41 +08:00: id: 
2017-08-24 09:41 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:41 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: null }
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:41 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:41 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:41 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:41 +08:00: Process GET /static/css/postlist.css...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:41 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:41 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:41 +08:00: Process GET /static/css/add.css...
2017-08-24 09:41 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:41 +08:00: Process GET /static/js/zh.js...
Process GET /static/js/bootstrap.js...
2017-08-24 09:41 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:41 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:41 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:41 +08:00: Process GET /postedit?contentid=599a7b633f7d051bbc2d4efa...
2017-08-24 09:41 +08:00: { title: 'My Articles', contents: null, content: null }
id: 599a7b633f7d051bbc2d4efa
2017-08-24 09:41 +08:00: { _id: 599a7b633f7d051bbc2d4efa,
  title: 'Biubiu2',
  date: '2017-8-21 14:19:15',
  isPublic: true,
  __v: 0,
  isDelete: false,
  comments: [],
  content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
  description: '' }
2017-08-24 09:41 +08:00: [ { _id: 599bcf945430ac2c8c1acdb1,
    title: '[php]fopen',
    isPublic: true,
    date: '2017-8-22 14:30:44',
    lastEditTime: '2017-8-24 09:39:44',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
    description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
  { _id: 599bde1881147631cc8c4fde,
    title: 'link',
    date: '2017-8-22 15:32:40',
    isPublic: true,
    lastEditTime: '2017-8-22 15:32:40',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
    description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
  { _id: 599bcd87ab7a6934fc32d9ab,
    title: 'sub',
    date: '2017-8-22 14:21:59',
    isPublic: true,
    lastEditTime: '2017-8-22 14:21:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
    description: 'vue,koahexowordpress' },
  { _id: 599aa243f6013338549c8020,
    title: '',
    isPublic: true,
    date: '2017-8-21 17:05:07',
    lastEditTime: '2017-8-22 14:21:01',
    __v: 0,
    isDelete: false,
    comments: [],
    content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
    description: '' },
  { _id: 599aa10df6013338549c801f,
    title: '##01',
    isPublic: true,
    date: '2017-8-21 16:59:57',
    lastEditTime: '2017-8-21 17:16:59',
    __v: 0,
    isDelete: false,
    comments: [],
    content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
    description: '' },
  { _id: 599a7f2715b70e32083c0435,
    title: 'value test2',
    isPublic: true,
    date: '2017-8-21 14:35:19',
    __v: 0,
    lastEditTime: '2017-8-21 15:57:30',
    isDelete: false,
    comments: [],
    content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
    description: '' },
  { _id: 599a7b633f7d051bbc2d4efa,
    title: 'Biubiu2',
    date: '2017-8-21 14:19:15',
    isPublic: true,
    __v: 0,
    isDelete: false,
    comments: [],
    content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
    description: '' } ]
2017-08-24 09:41 +08:00: { title: 'My Articles',
  contents: 
   [ { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' },
     { _id: 599a7f2715b70e32083c0435,
       title: 'value test2',
       isPublic: true,
       date: '2017-8-21 14:35:19',
       __v: 0,
       lastEditTime: '2017-8-21 15:57:30',
       isDelete: false,
       comments: [],
       content: '// index:\n\'use strict\'\nlet Contents = require(\'../models/Contents\');\nlet res = {\n    title: \'Welcome\',\n    contents: null\n}\nmodule.exports = {\n    \'GET /\': async (ctx, next) => {\n        await Contents.find({\n            isDelete: false,\n            isPublic: true\n        }).then(function (cots) {\n            res.contents = cots;\n            console.log(res);\n            ctx.render(\'index.html\',res);\n        });\n    }\n};\n',
       description: '' },
     { _id: 599a7b633f7d051bbc2d4efa,
       title: 'Biubiu2',
       date: '2017-8-21 14:19:15',
       isPublic: true,
       __v: 0,
       isDelete: false,
       comments: [],
       content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
       description: '' } ],
  content: 
   { _id: 599a7b633f7d051bbc2d4efa,
     title: 'Biubiu2',
     date: '2017-8-21 14:19:15',
     isPublic: true,
     __v: 0,
     isDelete: false,
     comments: [],
     content: '1middleware\n```\nconst path = require(\'path\');\nconst mime = require(\'mime\');\nconst fs = require(\'mz/fs\');\n// url:  \'/static/\'\n// dir:  __dirname + \'/static\'\nfunction staticFiles(url, dir) {\n    return async (ctx, next) => {\n        let rpath = ctx.request.path;\n        // url:\n        if (rpath.startsWith(url)) {\n            // :\n            let fp = path.join(dir, rpath.substring(url.length));\n            // :\n            if (await fs.exists(fp)) {\n                // mime:\n                ctx.response.type = mime.lookup(rpath);\n                // response.body:\n                ctx.response.body = await fs.readFile(fp);\n            } else {\n                // :\n                ctx.response.status = 404;\n            }\n        } else {\n            // URLmiddleware:\n            await next();\n        }\n    };\n}\nmodule.exports = staticFiles;\n```\n`staticFiles`URLasyncasyncURLURLasyncawait next()middleware\n\n```\nlet staticFiles = require(\'./static-files\');\napp.use(staticFiles(\'/static/\', __dirname + \'/static\'));\n```\nmime\n> MIME(Multipurpose Internet Mail Extensions)\n\n`mime.lookup` \n\n2Nunjucks\nmiddlewaremiddlewarectxrender(view, model)Controller\n```\nconst nunjucks = require(\'nunjucks\');\n\nfunction createEnv(path, opts) {\n    var\n        autoescape = opts.autoescape === undefined ? true : opts.autoescape,\n        noCache = opts.noCache || false,\n        watch = opts.watch || false,\n        throwOnUndefined = opts.throwOnUndefined || false,\n        env = new nunjucks.Environment(\n            new nunjucks.FileSystemLoader(path || \'views\', {\n                noCache: noCache,\n                watch: watch,\n            }), {\n                autoescape: autoescape,\n                throwOnUndefined: throwOnUndefined\n            });\n    if (opts.filters) {\n        for (var f in opts.filters) {\n            env.addFilter(f, opts.filters[f]);\n        }\n    }\n    return env;\n}\n\nfunction templating(path, opts) {\n    // Nunjucksenv:\n    var env = createEnv(path, opts);\n    return async (ctx, next) => {\n        // ctxrender:\n        ctx.render = function (view, model) {\n            // renderresponse.body:\n            ctx.response.body = env.render(view, Object.assign({}, ctx.state || {}, model || {}));\n            // Content-Type:\n            ctx.response.type = \'text/html\';\n        };\n        // :\n        await next();\n    };\n}\n\nmodule.exports = templating;\n```\n\n```\nconst isProduction = process.env.NODE_ENV === \'production\';\n\napp.use(templating(\'view\', {\n    noCache: !isProduction,\n    watch: !isProduction\n}));\n```\n`isProduction``production``View`Node\n\n`Node.js``process``env.NODE_ENV``\'development\'``\'production\'`\n\n`NODE_ENV = \'production\'``NODE_ENV`undefined`NODE_ENV === \'development`\'\n`ctx.render`Model`model`\n```\nObject.assign({}, ctx.state || {}, model || {})\n```\n`model || {}`undefinedmodel{}`Object.assign()``ctx.state || {}`ctx.stateView\n\nmiddlewarectx.state\n```\napp.use(async (ctx, next) => {\n    var user = tryGetUserFromCookie(ctx.request);\n    if (user) {\n        ctx.state.user = user;\n        await next();\n    } else {\n        ctx.response.status = 403;\n    }\n});\n```\nControllerasyncusermodel\n\n3koa/\n1\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n        });\n        ctx.render(\'index.html\',res);\n}\n```\n\n2express\n```\nasync (ctx, next) => {\n        Contents.find().then(function (cots) {\n            res.contents = cots;\n            ctx.render(\'index.html\',res);\n        });\n}\n```\nError: Can\'t set headers after they are sent.\n\n await\n> 1async asyncawait\n> 2await promise\n> 3await promise\n\nPromise\n> Promise\nPromise ()Promise\nPromise2 \n1.PromisePending()Resolved()Rejected()Promise \n2.PromisePendingResolvedPendingRejectedPromise(Event)\nPromisePromise\n\n',
     description: '' } }
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:41 +08:00: Process GET /static/css/fileinput.css...
2017-08-24 09:41 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
Process GET /static/css/uikit.min.css...
Process GET /static/css/postlist.css...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.min.css...
2017-08-24 09:41 +08:00: Process GET /static/css/custom_up_img.css...
2017-08-24 09:41 +08:00: Process GET /static/css/sweetalert.css...
2017-08-24 09:41 +08:00: Process GET /static/css/add.css...
2017-08-24 09:41 +08:00: Process GET /static/js/fileinput.js...
2017-08-24 09:41 +08:00: Process GET /static/js/zh.js...
2017-08-24 09:41 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:41 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/jquery-3.2.1.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/custom_up_img.js...
2017-08-24 09:41 +08:00: Process GET /static/js/cropper.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/sweetalert-dev.js...
2017-08-24 09:41 +08:00: Process GET /static/images/headimg.jpg...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.min.css.map...
2017-08-24 09:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:41 +08:00: Process GET /...
2017-08-24 09:41 +08:00: { title: 'HTT\'s blog',
  contents: 
   [ { _id: 599bde1881147631cc8c4fde,
       title: 'link',
       date: '2017-8-22 15:32:40',
       isPublic: true,
       lastEditTime: '2017-8-22 15:32:40',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)',
       description: '[link](http://www.jianshu.com/writer#/notebooks/12658832/notes/15833670)' },
     { _id: 599bcf945430ac2c8c1acdb1,
       title: '[php]fopen',
       isPublic: true,
       date: '2017-8-22 14:30:44',
       lastEditTime: '2017-8-24 09:39:44',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-ae87f6522180080e.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fileName = iconv(\'UTF-8\', \'GBK\', $fileName);\n$fp = fopen($fileName, \'w\');\nfwrite($fp, \'\');\nfclose($fp);\necho $fileName.\'<br>\';\nif(file_exists($fileName)){\n\techo \'hhhhh\';\n}\n?>\n```\n\n![](http://upload-images.jianshu.io/upload_images/6080416-6063f477eb56502d.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n![](http://upload-images.jianshu.io/upload_images/6080416-9b7ca73e3ebb7116.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n> ',
       description: 'phpfopen\n\n```\n<?php\n$fileName = __DIR__ . \'\\.txt\';\n$fp = ' },
     { _id: 599bcd87ab7a6934fc32d9ab,
       title: 'sub',
       date: '2017-8-22 14:21:59',
       isPublic: true,
       lastEditTime: '2017-8-22 14:21:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: 'vue,koahexowordpresskoanodeQpromise\r\n\r\n7git9617admin~\r\n\r\n\r\n\r\n\r\n\r\nserver  \r\nclient  vuevue(..)\r\nadmin  markdownclient\r\nserver\r\n\r\nrestfulnodejskoa(koa 1)mongojwt.\r\n\r\nmongo\r\nkoakoa1koa1geekkoa2generator promise koa\r\n\r\nclient\r\n\r\nvue(1.0)fetchvue\r\ndomvueclient$nextTickdom\r\n\r\n\r\n\r\nVue && vue-router\r\nfetch\r\nstylus\r\nmarked && highlight\r\nadmin\r\n\r\n:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclientmarkdownSimpleMDE\r\n\r\n\r\n\r\nVue && vuex && vue-router\r\nfetch\r\nstylus\r\nSimpleMDE && marked && highlight\r\n\r\n\r\n\r\n\r\nstarissuepr\r\n\r\nVue1.xmongokoaJavascript',
       description: 'vue,koahexowordpress' },
     { _id: 599aa243f6013338549c8020,
       title: '',
       isPublic: true,
       date: '2017-8-21 17:05:07',
       lastEditTime: '2017-8-22 14:21:01',
       __v: 0,
       isDelete: false,
       comments: [],
       content: ' substring()slice() \n\nsplit() \n \n \nstr=jpg|bmp|gif|ico|png; \narr=theString.split(|); \n//arrjpgbmpgificopng \n\nJoin() \n \n \n :\n\nvar delimitedString=myArray.join(delimiter); \nvar myList=new Array(jpg,bmp,gif,ico,png); \nvar portableList=myList.join(|); \n//jpg|bmp|gif|ico|png \n\nsubstring() \n"MinidxSearchEngine"Minidxsubstring(0,6) \n\nindexOf() \n \n :\n\nvar myString=JavaScript; \nvar w=myString.indexOf(v);w will be 2 \nvar x=myString.indexOf(S);x will be 4 \nvar y=myString.indexOf(Script);y will also be 4 \n\nvar z=myString.indexOf(key);z will be -1 \n\n \n\n1.substring  \n\n \nsubstring  \n\n \nstringObject.substring(start,stop) \n\n  \nstart  stringObject  \nstop  stringObject  1 \n\n \n stringObject  start  stop-1  stop  start \n\n \nsubstring  start  end  \n start  end  0  \n start  end  \n start  end  0 \n\n2.substr  \n\n \nsubstr  \n\n \nstringObject.substr(start [, length ]) \n\n  \nstart  0 \nlength  \n\n \n length  0  \nstringObject ',
       description: '' },
     { _id: 599aa10df6013338549c801f,
       title: '##01',
       isPublic: true,
       date: '2017-8-21 16:59:57',
       lastEditTime: '2017-8-21 17:16:59',
       __v: 0,
       isDelete: false,
       comments: [],
       content: '## \n[2017.06.29]\n\n->p+->\n\n\n\n\n\n\n\n\n&\ntextareaplacehold\n->\n\n\n\n++&++\n\n\n++\n\n/\n\n[2017.07.12]\n\n1\n2xml\n3\n4\n5\n5--\n6--txt VS xls\n7--\n\n1\nselect School_ID,User_Type,User_ID,User_PWD,User_Name,User_ExpTimeStart,User_ExpTimeEnd,User_RegTime from ME_User\nselect School_ID,Teacher_ID,Student_ID,Term,CourseName from ME_STAssociate\n2\nselect XMLFileInfo_Times from ME_XMLFileInfo where User_ID=\'t\' and School_ID=\'1002\' and Term=\'2016-2017-2\' order by XMLFileInfo_Times desc limit 1\n3\nselect Student_ID,School_ID,Term,Score from ME_Score\nselect Student_ID,Score from ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID and ME_User.Student_ID = ME.Score.Student_ID where School_ID=\'$School_ID\' and Term=\'$term\'\nselect Student_ID,Score,User_Name from (ME_Score join ME_User on ME_Score.School_ID = ME_User.School_ID) where ME_User.User_ID = ME_Score.Student_ID and ME_Score.School_ID=\'1002\' and ME_Score.Term=\'2016-2017-2\';\n4\nselect ME_MusicKnowledgePoint_ID,ChineseName,TagName from ME_MusicKnowledgePoint',
       description: '' } ],
  count: 9,
  page: 1,
  limit: 5,
  pages: 2 }
2017-08-24 09:41 +08:00: Process GET /static/css/font-awesome/css/font-awesome.css...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css...
2017-08-24 09:41 +08:00: Process GET /static/css/default.css...
2017-08-24 09:41 +08:00: Process GET /static/css/uikit.min.css...
2017-08-24 09:41 +08:00: Process GET /static/css/base.css...
2017-08-24 09:41 +08:00: Process GET /static/js/bootstrap.js...
2017-08-24 09:41 +08:00: Process GET /static/js/uikit.min.js...
2017-08-24 09:41 +08:00: Process GET /static/js/jquery.dotdotdot.js...
2017-08-24 09:41 +08:00: Process GET /static/js/marked.js...
2017-08-24 09:41 +08:00: Process GET /static/js/highlight.js...
2017-08-24 09:41 +08:00: Process GET /static/css/bootstrap.css.map...
2017-08-24 09:41 +08:00: Process GET /static/fonts/fontawesome-webfont.woff2...
2017-08-24 09:55 +08:00: process controller: article.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /article
2017-08-24 09:55 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /comment
2017-08-24 09:55 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /
2017-08-24 09:55 +08:00: process controller: me.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /me
2017-08-24 09:55 +08:00: process controller: postedit.js...
2017-08-24 09:55 +08:00: process controller: article.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /article
2017-08-24 09:55 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /comment
2017-08-24 09:55 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /
2017-08-24 09:55 +08:00: process controller: me.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /me
2017-08-24 09:55 +08:00: process controller: postedit.js...
2017-08-24 09:55 +08:00: process controller: article.js...
2017-08-24 09:55 +08:00: register URL mapping: GET /article
2017-08-24 09:55 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
2017-08-24 09:56 +08:00: process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
2017-08-24 09:56 +08:00: process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
2017-08-24 09:56 +08:00: process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
register URL mapping: GET /article
register URL mapping: POST /article
process controller: comment.js...
register URL mapping: GET /comment
register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
register URL mapping: GET /
process controller: me.js...
register URL mapping: GET /me
process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
register URL mapping: GET /article
register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
2017-08-24 09:56 +08:00: process controller: postedit.js...
2017-08-24 09:56 +08:00: process controller: article.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /article
2017-08-24 09:56 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /comment
2017-08-24 09:56 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /
2017-08-24 09:56 +08:00: process controller: me.js...
2017-08-24 09:56 +08:00: register URL mapping: GET /me
process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
2017-08-24 09:57 +08:00: process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
2017-08-24 09:57 +08:00: process controller: article.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /article
2017-08-24 09:57 +08:00: register URL mapping: POST /article
process controller: comment.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /comment
2017-08-24 09:57 +08:00: register URL mapping: POST /comment
register URL mapping: POST /reply
process controller: index.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /
2017-08-24 09:57 +08:00: process controller: me.js...
2017-08-24 09:57 +08:00: register URL mapping: GET /me
2017-08-24 09:57 +08:00: process controller: postedit.js...
